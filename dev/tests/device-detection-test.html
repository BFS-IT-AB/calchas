<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calchas - Ger√§tetyp Test</title>
    <style>
      body {
        font-family: "Segoe UI", system-ui, sans-serif;
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 20px;
        min-height: 100vh;
      }
      .test-container {
        max-width: 800px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 16px;
        backdrop-filter: blur(10px);
      }
      h1 {
        margin-top: 0;
      }
      .result-box {
        background: rgba(255, 255, 255, 0.15);
        padding: 20px;
        border-radius: 12px;
        margin: 15px 0;
      }
      .result-label {
        font-weight: 600;
        margin-bottom: 8px;
        opacity: 0.8;
      }
      .result-value {
        font-size: 18px;
        font-weight: 700;
      }
      .supported {
        color: #4caf50;
      }
      .not-supported {
        color: #ff5252;
      }
      .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }
      .info-item {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 8px;
      }
      .info-item strong {
        display: block;
        margin-bottom: 5px;
        opacity: 0.8;
      }
    </style>
  </head>
  <body>
    <div class="test-container">
      <h1>üì± Calchas Ger√§tetyp-Test</h1>

      <div class="result-box">
        <div class="result-label">Ger√§tetyp:</div>
        <div class="result-value" id="device-type">Wird erkannt...</div>
      </div>

      <div class="result-box">
        <div class="result-label">Unterst√ºtzt:</div>
        <div class="result-value" id="is-supported">Pr√ºfe...</div>
      </div>

      <div class="result-box">
        <div class="result-label">Smartphone-Erkennung:</div>
        <div class="result-value" id="is-smartphone">Pr√ºfe...</div>
      </div>

      <h2>üìä Ger√§te-Informationen</h2>
      <div class="info-grid">
        <div class="info-item">
          <strong>Bildschirmbreite:</strong>
          <span id="screen-width"></span>
        </div>
        <div class="info-item">
          <strong>Bildschirmh√∂he:</strong>
          <span id="screen-height"></span>
        </div>
        <div class="info-item">
          <strong>Touch-Support:</strong>
          <span id="touch-support"></span>
        </div>
        <div class="info-item">
          <strong>Orientierung:</strong>
          <span id="orientation"></span>
        </div>
        <div class="info-item">
          <strong>User Agent:</strong>
          <span id="user-agent" style="word-break: break-all"></span>
        </div>
      </div>
    </div>

    <script src="../../js/utils/deviceDetection.js"></script>
    <script>
      function runTest() {
        // Device Type
        const deviceType = window.DeviceDetection.getDeviceType();
        document.getElementById("device-type").textContent =
          deviceType.toUpperCase();

        // Is Smartphone
        const isSmartphone = window.DeviceDetection.isSmartphone();
        const smartphoneEl = document.getElementById("is-smartphone");
        smartphoneEl.textContent = isSmartphone ? "JA ‚úÖ" : "NEIN ‚ùå";
        smartphoneEl.className = isSmartphone
          ? "result-value supported"
          : "result-value not-supported";

        // Is Supported
        const isSupported = window.DeviceDetection.isDeviceSupported();
        const supportedEl = document.getElementById("is-supported");
        supportedEl.textContent = isSupported
          ? "JA ‚úÖ (App wird normal geladen)"
          : "NEIN ‚ùå (Overlay wird angezeigt)";
        supportedEl.className = isSupported
          ? "result-value supported"
          : "result-value not-supported";

        // Device Info
        document.getElementById("screen-width").textContent =
          `${window.innerWidth}px`;
        document.getElementById("screen-height").textContent =
          `${window.innerHeight}px`;
        document.getElementById("touch-support").textContent =
          "ontouchstart" in window ? "Ja ‚úÖ" : "Nein ‚ùå";
        document.getElementById("orientation").textContent =
          window.innerHeight > window.innerWidth
            ? "Portrait üì±"
            : "Landscape üñ•Ô∏è";
        document.getElementById("user-agent").textContent = navigator.userAgent;
      }

      // Run test on load
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", runTest);
      } else {
        runTest();
      }

      // Re-run on resize
      window.addEventListener("resize", runTest);
    </script>
  </body>
</html>
